(this["webpackJsonpbpm-tapper"]=this["webpackJsonpbpm-tapper"]||[]).push([[0],{128:function(e,t,n){"use strict";n.r(t);var i,c=n(160),o=n(165),r=n(0),a=n.n(r),l=n(38),s=n.n(l),b=n(4),d=n(108),j=n(157),u=n(159),h=n(146),p=n(164),f=n(166),O=n(145),g=n(147),x=n(161),m=n(149),w=n(150),S=n(104),C=function(e){var t=Math.floor(e),n=Math.round(1e4*e),i=t.toString().length,c=n.toString().slice(i);return"".concat(t,".").concat(c||"0000")},v="linear(to-r, teal.300, blue.400)",y=n.p+"static/media/tap-sound.2fc7e0f6.wav",k=n(162),M=[],B=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(0),c=Object(b.a)(n,2),o=c[0],a=c[1],l=Object(r.useState)(!1),s=Object(b.a)(l,2),d=s[0],j=s[1],u=Object(k.a)(),h=Object(r.useCallback)((function(){d||j(!0),function(){var e=(new Date).getTime(),t=e-i;if(i){M.push(t);var n=0;M.forEach((function(e){n+=e})),n/=M.length,a(1e3/n*60)}i=e}(),e.playAudio&&function(){var e;t.current&&((null===(e=t.current)||void 0===e?void 0:e.paused)?t.current.play().catch((function(){})):t.current.currentTime=0)}()}),[d,e.playAudio]);return Object(r.useEffect)((function(){return window.addEventListener("keydown",h),function(){window.removeEventListener("keydown",h)}}),[h]),{isCalculating:d,copyBpmToClipboard:function(){var t=Math.floor(o),n=Math.round(1e4*o),i=t.toString().length,c=n.toString().slice(i),r="".concat(t,".").concat(c),a=e.showMilliseconds?r:Math.round(o).toString();navigator.clipboard.writeText(a).then((function(){u({title:"BPM Copied!",description:"The BPM were copied to your clipboard.",status:"info",duration:9e3,isClosable:!0})})).catch((function(){u({title:"Something went wrong.",description:"The BPM could not be copied to your clipboard.",status:"error",duration:9e3,isClosable:!0})}))},bpm:o,resetBpm:function(){i=0,M=[],j(!1),a(0)},audioTapRef:t,keyDownHandler:h}},z=n(6);var T=function(e){var t=Object(p.a)({base:!0,md:!1}),n=B(e),i=n.isCalculating,c=n.copyBpmToClipboard,o=n.bpm,r=n.resetBpm,a=n.audioTapRef,l=n.keyDownHandler;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(f.c,{spacing:3,onTouchStart:function(){l()},children:[Object(z.jsxs)(O.a,{in:!i,children:[Object(z.jsx)(h.a,{fontSize:{base:"md",md:"xl",lg:"2xl"},mb:3,children:"Tap any key to start \u2328\ufe0f"}),Object(z.jsxs)(h.a,{fontSize:{base:"xs",md:"sm",lg:"md"},children:["\ud83d\udca1 For example the ",Object(z.jsx)(g.a,{children:"Spacebar"})]})]}),Object(z.jsx)(x.a,{hasArrow:!0,label:"Click to copy",placement:"right",children:Object(z.jsxs)(m.a,{onClick:t?void 0:c,cursor:"copy",children:[Object(z.jsx)(m.c,{fontSize:{base:"7xl",md:"8xl",lg:"9xl"},bgGradient:v,bgClip:"text",children:e.showMilliseconds?C(o):Math.round(o)}),Object(z.jsx)(m.b,{fontSize:{base:"lg",md:"xl",lg:"2xl"},children:"BPM"})]})}),Object(z.jsx)(w.a,{initialScale:.9,in:i,children:Object(z.jsx)(S.a,{colorScheme:"blue",variant:"outline",onMouseDown:function(e){return e.preventDefault()},onClick:i?r:void 0,cursor:i?void 0:"default",display:i?void 0:"none",children:"Reset"})})]}),Object(z.jsx)("audio",{ref:a,src:y})]})},A=n(151),P=n(152),E=function(){return Object(z.jsx)(A.a,{as:"footer",justify:"center",py:3,alignSelf:"flex-end",children:Object(z.jsx)(P.a,{href:"https://www.cbussick.dev/",target:"_blank",rel:"noopener noreferrer",bgGradient:v,bgClip:"text",fontWeight:"semibold",fontSize:{base:"md",md:"lg",lg:"xl"},children:"Made by Christopher Bussick"})})},W=n(154),D=n(163),G=n(153),R=n(156),H=n(158),I=n(169),V=n(33),_=n(170),F=n(47),J=n(21),L=n(105),q=["isSmallViewport"],K=function(e){var t=Object(d.c)().toggleColorMode,n="Switch to ".concat(Object(d.d)("dark","light")," mode"),i=Object(d.d)(F.b,F.c),c=e.isSmallViewport,o=Object(L.a)(e,q);return Object(z.jsx)(x.a,{hasArrow:!0,label:n,children:Object(z.jsx)(G.a,Object(J.a)({size:"md",fontSize:{base:"sm",md:"md",lg:"lg"},variant:c?"outline":"ghost",color:"current",onClick:t,icon:Object(z.jsx)(i,{}),"aria-label":n},o))})},N="Repo on GitHub",Q=function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),i=n[0],c=n[1],o=e.playAudio?F.e:F.d,a="Turn volume ".concat(e.playAudio?"off":"on"),l=Object(p.a)({base:"md",lg:"lg"}),s=Object(p.a)({base:"md",lg:"lg"}),d=Object(p.a)({base:"lg"}),u=Object(p.a)({base:!0,md:!1}),h=Object(z.jsx)(W.a,{size:s,bgGradient:v,bgClip:"text",justifySelf:"center",whiteSpace:"nowrap",children:"BPM tapper"}),O=Object(z.jsx)(D.a,{isChecked:e.showMilliseconds,onChange:function(){return e.setShowMilliseconds((function(e){return!e}))},size:l,whiteSpace:"nowrap",children:"Show milliseconds"}),g=Object(z.jsx)(x.a,{hasArrow:!0,label:a,children:Object(z.jsx)(G.a,{variant:u?"outline":"ghost","aria-label":a,icon:Object(z.jsx)(o,{}),onClick:function(){return e.setPlayAudio((function(e){return!e}))},fontSize:d,ml:u?void 0:4})}),m=Object(z.jsx)(x.a,{hasArrow:!0,label:N,children:u?Object(z.jsx)(S.a,{leftIcon:Object(z.jsx)(F.a,{}),colorScheme:"blue",variant:"link",fontWeight:"normal",as:P.a,href:"https://github.com/ChristopherBussick/bpm-tapper",target:"_blank",rel:"noopener noreferrer",children:N}):Object(z.jsx)(G.a,{variant:"ghost","aria-label":N,icon:Object(z.jsx)(F.a,{}),fontSize:d,as:P.a,href:"https://github.com/ChristopherBussick/bpm-tapper",target:"_blank",rel:"noopener noreferrer"})}),w=Object(z.jsx)(R.a,{order:-1,sx:{".hamburger-react":{WebkitTapHighlightColor:"transparent"}},children:Object(z.jsx)(_.a,{toggled:i,toggle:c,label:i?"Close menu":"Show menu",size:u?24:32,rounded:!0})});return Object(z.jsxs)(j.a,{as:"header",templateColumns:"repeat(3, 1fr)",gap:6,py:2,alignSelf:"flex-start",alignItems:"center",children:[!u&&Object(z.jsx)(H.a,{}),h,u?w:Object(z.jsxs)(A.a,{justifySelf:"flex-end",children:[O,g,m,Object(z.jsx)(K,{isSmallViewport:u})]}),Object(z.jsxs)(I.a,{isOpen:i,placement:"left",onClose:function(){return c(!1)},children:[Object(z.jsx)(V.g,{}),Object(z.jsxs)(I.b,{children:[Object(z.jsx)(V.c,{}),Object(z.jsx)(V.f,{borderBottomWidth:"1px",children:h}),Object(z.jsx)(V.b,{mt:2,children:Object(z.jsxs)(f.b,{spacing:4,alignItems:"flex-start",children:[O,Object(z.jsxs)(f.a,{children:[g,Object(z.jsx)(K,{isSmallViewport:u})]}),m]})}),Object(z.jsx)(V.e,{justifyContent:"flex-start",children:Object(z.jsx)(P.a,{href:"https://www.cbussick.dev/",target:"_blank",rel:"noopener noreferrer",bgGradient:v,bgClip:"text",fontWeight:"semibold",fontSize:{base:"md",md:"lg",lg:"xl"},children:"Made by Christopher Bussick"})})]})]})]})},U=n(72),X=Object(J.a)(Object(J.a)({},U.theme),{},{config:Object(J.a)(Object(J.a)({},U.theme.config),{},{initialColorMode:"dark"})}),Y=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(!0),o=Object(b.a)(c,2),a=o[0],l=o[1],s=Object(d.c)().setColorMode;return Object(r.useEffect)((function(){"dark"===X.config.initialColorMode&&s("dark")}),[s]),Object(z.jsxs)(j.a,{templateColumns:"repeat(1fr, 3)",gap:6,textAlign:"center",height:"100vh",children:[Object(z.jsx)(Q,{showMilliseconds:n,setShowMilliseconds:i,playAudio:a,setPlayAudio:l}),Object(z.jsxs)(u.a,{maxW:"8xl",children:[Object(z.jsx)(h.a,{fontSize:{base:"lg",md:"3xl",lg:"4xl"},mb:9,children:"Tap along to any song to figure out its tempo! \ud83c\udfb5"}),Object(z.jsx)(T,{playAudio:a,showMilliseconds:n})]}),Object(z.jsx)(E,{})]})};s.a.render(Object(z.jsxs)(a.a.StrictMode,{children:[Object(z.jsx)(c.a,{initialColorMode:X.config.initialColorMode}),Object(z.jsx)(o.a,{theme:X,children:Object(z.jsx)(Y,{})})]}),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.59204375.chunk.js.map