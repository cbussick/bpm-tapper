(this["webpackJsonpbpm-tapper"]=this["webpackJsonpbpm-tapper"]||[]).push([[0],{128:function(e,t,n){"use strict";n.r(t);var i,c=n(160),r=n(165),o=n(0),a=n.n(o),l=n(38),s=n.n(l),b=n(4),d=n(108),j=n(156),u=n(157),h=n(159),p=n(146),f=n(164),O=n(166),g=n(145),x=n(147),m=n(161),w=n(149),S=n(150),C=n(104),v=function(e){var t=Math.floor(e),n=Math.round(1e4*e),i=t.toString().length,c=n.toString().slice(i);return"".concat(t,".").concat(c||"0000")},y="linear(to-r, teal.300, blue.400)",k=n.p+"static/media/tap-sound.2fc7e0f6.wav",M=n(162),B=[],z=function(e){var t=Object(o.useRef)(null),n=Object(o.useState)(0),c=Object(b.a)(n,2),r=c[0],a=c[1],l=Object(o.useState)(!1),s=Object(b.a)(l,2),d=s[0],j=s[1],u=Object(M.a)(),h=Object(o.useCallback)((function(){d||j(!0),function(){var e=(new Date).getTime(),t=e-i;if(i){B.push(t);var n=0;B.forEach((function(e){n+=e})),n/=B.length,a(1e3/n*60)}i=e}(),e.playAudio&&function(){var e;t.current&&((null===(e=t.current)||void 0===e?void 0:e.paused)?t.current.play().catch((function(){})):t.current.currentTime=0)}()}),[d,e.playAudio]);return Object(o.useEffect)((function(){return window.addEventListener("keydown",h),function(){window.removeEventListener("keydown",h)}}),[h]),{isCalculating:d,copyBpmToClipboard:function(){var t=Math.floor(r),n=Math.round(1e4*r),i=t.toString().length,c=n.toString().slice(i),o="".concat(t,".").concat(c),a=e.showMilliseconds?o:Math.round(r).toString();navigator.clipboard.writeText(a).then((function(){u({title:"BPM Copied!",description:"The BPM were copied to your clipboard.",status:"info",duration:9e3,isClosable:!0})})).catch((function(){u({title:"Something went wrong.",description:"The BPM could not be copied to your clipboard.",status:"error",duration:9e3,isClosable:!0})}))},bpm:r,resetBpm:function(){i=0,B=[],j(!1),a(0)},audioTapRef:t,keyDownHandler:h}},T=n(6);var A=function(e){var t=Object(f.a)({base:!0,md:!1}),n=z(e),i=n.isCalculating,c=n.copyBpmToClipboard,r=n.bpm,o=n.resetBpm,a=n.audioTapRef,l=n.keyDownHandler;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(O.c,{spacing:3,onTouchStart:function(){l()},children:[Object(T.jsxs)(g.a,{in:!i,children:[Object(T.jsx)(p.a,{fontSize:{base:"md",md:"xl",lg:"2xl"},mb:3,children:"Tap any key to start \u2328\ufe0f"}),Object(T.jsxs)(p.a,{fontSize:{base:"xs",md:"sm",lg:"md"},children:["\ud83d\udca1 For example the ",Object(T.jsx)(x.a,{children:"Spacebar"})]})]}),Object(T.jsx)(m.a,{hasArrow:!0,label:"Click to copy",placement:"right",children:Object(T.jsxs)(w.a,{onClick:t?void 0:c,cursor:"copy",children:[Object(T.jsx)(w.c,{fontSize:{base:"7xl",md:"8xl",lg:"9xl"},bgGradient:y,bgClip:"text",children:e.showMilliseconds?v(r):Math.round(r)}),Object(T.jsx)(w.b,{fontSize:{base:"lg",md:"xl",lg:"2xl"},children:"BPM"})]})}),Object(T.jsx)(S.a,{initialScale:.9,in:i,children:Object(T.jsx)(C.a,{colorScheme:"blue",variant:"outline",onMouseDown:function(e){return e.preventDefault()},onClick:i?o:void 0,cursor:i?void 0:"default",display:i?void 0:"none",children:"Reset"})})]}),Object(T.jsx)("audio",{ref:a,src:k})]})},P=n(151),E=n(152),W=function(){return Object(T.jsx)(P.a,{as:"footer",justify:"center",py:3,alignSelf:"flex-end",children:Object(T.jsx)(E.a,{href:"https://www.cbussick.dev/",target:"_blank",rel:"noopener noreferrer",bgGradient:y,bgClip:"text",fontWeight:"semibold",fontSize:{base:"md",md:"lg",lg:"xl"},children:"Made by Christopher Bussick"})})},D=n(154),G=n(163),R=n(153),H=n(158),I=n(169),V=n(33),_=n(170),F=n(47),J=n(21),L=n(105),q=["isSmallViewport"],K=function(e){var t=Object(d.c)().toggleColorMode,n="Switch to ".concat(Object(d.d)("dark","light")," mode"),i=Object(d.d)(F.b,F.c),c=e.isSmallViewport,r=Object(L.a)(e,q);return Object(T.jsx)(m.a,{hasArrow:!0,label:n,children:Object(T.jsx)(R.a,Object(J.a)({size:"md",fontSize:{base:"sm",md:"md",lg:"lg"},variant:c?"outline":"ghost",color:"current",onClick:t,icon:Object(T.jsx)(i,{}),"aria-label":n},r))})},N="Repo on GitHub",Q=function(e){var t=Object(o.useState)(!1),n=Object(b.a)(t,2),i=n[0],c=n[1],r=e.playAudio?F.e:F.d,a="Turn volume ".concat(e.playAudio?"off":"on"),l=Object(f.a)({base:"md",lg:"lg"}),s=Object(f.a)({base:"md",lg:"lg"}),d=Object(f.a)({base:"lg"}),h=Object(f.a)({base:!0,md:!1}),p=Object(T.jsx)(D.a,{size:s,bgGradient:y,bgClip:"text",justifySelf:"center",whiteSpace:"nowrap",children:"BPM tapper"}),g=Object(T.jsx)(G.a,{isChecked:e.showMilliseconds,onChange:function(){return e.setShowMilliseconds((function(e){return!e}))},size:l,whiteSpace:"nowrap",children:"Show milliseconds"}),x=Object(T.jsx)(m.a,{hasArrow:!0,label:a,children:Object(T.jsx)(R.a,{variant:h?"outline":"ghost","aria-label":a,icon:Object(T.jsx)(r,{}),onClick:function(){return e.setPlayAudio((function(e){return!e}))},fontSize:d,ml:h?void 0:4})}),w=Object(T.jsx)(m.a,{hasArrow:!0,label:N,children:h?Object(T.jsx)(C.a,{leftIcon:Object(T.jsx)(F.a,{}),colorScheme:"blue",variant:"link",fontWeight:"normal",as:E.a,href:"https://github.com/ChristopherBussick/bpm-tapper",target:"_blank",rel:"noopener noreferrer",children:N}):Object(T.jsx)(R.a,{variant:"ghost","aria-label":N,icon:Object(T.jsx)(F.a,{}),fontSize:d,as:E.a,href:"https://github.com/ChristopherBussick/bpm-tapper",target:"_blank",rel:"noopener noreferrer"})}),S=Object(T.jsx)(j.a,{order:-1,sx:{".hamburger-react":{WebkitTapHighlightColor:"transparent"}},children:Object(T.jsx)(_.a,{toggled:i,toggle:c,label:i?"Close menu":"Show menu",size:h?24:32,rounded:!0})});return Object(T.jsxs)(u.a,{as:"header",templateColumns:"repeat(3, 1fr)",gap:6,py:2,alignSelf:"flex-start",alignItems:"center",children:[!h&&Object(T.jsx)(H.a,{}),p,h?S:Object(T.jsxs)(P.a,{justifySelf:"flex-end",children:[g,x,w,Object(T.jsx)(K,{isSmallViewport:h})]}),Object(T.jsxs)(I.a,{isOpen:i,placement:"left",onClose:function(){return c(!1)},children:[Object(T.jsx)(V.g,{}),Object(T.jsxs)(I.b,{children:[Object(T.jsx)(V.c,{}),Object(T.jsx)(V.f,{borderBottomWidth:"1px",children:p}),Object(T.jsx)(V.b,{mt:2,children:Object(T.jsxs)(O.b,{spacing:4,alignItems:"flex-start",children:[g,Object(T.jsxs)(O.a,{children:[x,Object(T.jsx)(K,{isSmallViewport:h})]}),w]})}),Object(T.jsx)(V.e,{justifyContent:"flex-start",children:Object(T.jsx)(E.a,{href:"https://www.cbussick.dev/",target:"_blank",rel:"noopener noreferrer",bgGradient:y,bgClip:"text",fontWeight:"semibold",fontSize:{base:"md",md:"lg",lg:"xl"},children:"Made by Christopher Bussick"})})]})]})]})},U=n(72),X=Object(J.a)(Object(J.a)({},U.theme),{},{config:Object(J.a)(Object(J.a)({},U.theme.config),{},{initialColorMode:"dark"})}),Y=function(){var e=Object(o.useState)(!1),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(o.useState)(!0),r=Object(b.a)(c,2),a=r[0],l=r[1],s=Object(d.c)().setColorMode;return Object(o.useEffect)((function(){"dark"===X.config.initialColorMode&&s("dark")}),[s]),Object(T.jsx)(j.a,{textAlign:"center",height:"100vh",children:Object(T.jsxs)(u.a,{templateColumns:"repeat(1fr, 3)",gap:6,height:"100%",children:[Object(T.jsx)(Q,{showMilliseconds:n,setShowMilliseconds:i,playAudio:a,setPlayAudio:l}),Object(T.jsxs)(h.a,{maxW:"8xl",children:[Object(T.jsx)(p.a,{fontSize:{base:"lg",md:"3xl",lg:"4xl"},mb:9,children:"Tap along to any song to figure out its tempo! \ud83c\udfb5"}),Object(T.jsx)(A,{playAudio:a,showMilliseconds:n})]}),Object(T.jsx)(W,{})]})})};s.a.render(Object(T.jsxs)(a.a.StrictMode,{children:[Object(T.jsx)(c.a,{initialColorMode:X.config.initialColorMode}),Object(T.jsx)(r.a,{theme:X,children:Object(T.jsx)(Y,{})})]}),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.b1882de4.chunk.js.map